rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
  
    // For prototyping with mock auth, we allow broader access.
    // In production, these should be locked down using request.auth and role checks.
    
    match /{document=**} {
      allow read, write: if true;
    }

    // USERS
    match /users/{userId} {
      allow read, write: if true;
    }
    
    // PUBLIC DATA
    match /cities/{cityId} {
        allow read, write: if true;
    }
    match /outlets/{outletId} {
        allow read, write: if true;
    }
    match /categories/{categoryId} {
        allow read, write: if true;
    }
    match /menuItems/{menuItemId} {
        allow read, write: if true;
    }

    // ORDERS
    match /orders/{orderId} {
        allow read, write: if true;
    }
  }
}